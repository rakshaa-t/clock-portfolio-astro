@import url('https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&family=Geist+Mono:wght@400;500;600&display=swap');

@font-face {
  font-family: 'GeistPixel';
  font-style: normal;
  font-display: swap;
  src: url(/fonts/GeistPixel.ttf) format('truetype');
}


*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --clock-size:min(520px,85vw);
  --clock-height:var(--clock-size);
  --face-bg:#EDEAE6;
  --face-border:#D8D4CE;
  --accent:#8B7EC8;
  --accent-glow:rgba(139,126,200,0.35);
  --accent-subtle:rgba(139,126,200,0.08);
  --bg:#E4E0DA;
  --bg-raised:#ECEAE6;
  --bg-inset:#D9D5CF;
  --text-primary:#3A3632;
  --text-secondary:#8A857D;
  --text-muted:#B0AAA2;
  --thumbnail-size:28px;

  /* Noise textures (inline SVG) */
  --noise-felt:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  --noise-matte:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  --noise-paper:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  --noise-cardstock:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");

  /* Directional light tokens (top-left overhead) */
  --light-highlight:rgba(255,255,255,0.45);
  --shadow-contact:rgba(0,0,0,0.25);
  --shadow-cast:rgba(0,0,0,0.1);
  --shadow-diffuse:rgba(0,0,0,0.06);

  /* Skeuomorphic shadows */
  --shadow-raised:
    4px 4px 12px rgba(0,0,0,0.1),
    -2px -2px 8px rgba(255,255,255,0.7),
    inset 0 1px 0 rgba(255,255,255,0.6);
  --shadow-inset:
    inset 3px 3px 8px rgba(0,0,0,0.08),
    inset -2px -2px 6px rgba(255,255,255,0.5);
  --shadow-deep:
    8px 8px 24px rgba(0,0,0,0.12),
    -4px -4px 16px rgba(255,255,255,0.6),
    inset 0 1px 0 rgba(255,255,255,0.8),
    inset 0 -1px 0 rgba(0,0,0,0.04);
  /* Object resting on surface — contact + cast */
  --shadow-object:
    0 1px 2px var(--shadow-contact),
    3px 5px 14px var(--shadow-cast);
  --shadow-object-hover:
    0 2px 4px rgba(0,0,0,0.18),
    4px 8px 20px rgba(0,0,0,0.1),
    8px 16px 48px rgba(0,0,0,0.06);
  --shadow-object-pressed:
    0 0.5px 1px var(--shadow-contact),
    1px 2px 6px var(--shadow-cast);
}

html,body{margin:0;padding:0;background:var(--bg);color:var(--text-primary);
  font-family:'Geist',-apple-system,BlinkMacSystemFont,sans-serif;
  -webkit-font-smoothing:antialiased;overflow:auto;height:auto;}
body{}

/* ═══ CLOCK SCREEN ═══ */
.clock-screen{
  position:fixed;top:0;left:0;width:100%;height:100%;
  display:none;flex-direction:column;align-items:center;justify-content:center;
  z-index:100;gap:20px;will-change:transform,opacity;pointer-events:auto;
}

/* ═══ CLOCK FACE — raised panel with deep bezel ═══ */
.clock-wrapper{
  position:relative;width:var(--clock-size);height:var(--clock-height);flex-shrink:0;
}
.clock-wrapper.settle{animation:settlePulse 0.3s cubic-bezier(0.34,1.56,0.64,1);}
@keyframes settlePulse{
  0%{transform:scale(1);}
  40%{transform:scale(1.018);}
  100%{transform:scale(1);}
}
.clock-face{
  width:100%;height:100%;border-radius:22%;
  background:linear-gradient(145deg,#F0EDE9,#E2DED8);
  box-shadow:var(--shadow-deep);
  position:relative;overflow:hidden;
  border:1px solid rgba(255,255,255,0.4);
}
/* Inner bezel ring — inset groove */
.clock-face::before{
  content:'';position:absolute;inset:10px;border-radius:19%;
  box-shadow:
    inset 2px 2px 6px rgba(0,0,0,0.06),
    inset -1px -1px 4px rgba(255,255,255,0.5);
  border:1px solid rgba(0,0,0,0.03);
  pointer-events:none;z-index:1;
}
/* Outer rim highlight */
.clock-face::after{
  content:'';position:absolute;inset:0;border-radius:22%;
  background:linear-gradient(135deg,rgba(255,255,255,0.15) 0%,transparent 50%,rgba(0,0,0,0.02) 100%);
  pointer-events:none;z-index:2;
}

/* ═══ MENU LABELS — embossed panel style ═══ */
.menu-label{
  position:absolute;z-index:10;
  font-family:'Geist',sans-serif;
  font-size:13px;font-weight:600;
  letter-spacing:0.1em;text-transform:uppercase;
  color:var(--text-muted);cursor:pointer;
  transition:color 0.3s ease;user-select:none;text-align:center;
}
.menu-label:hover{color:var(--accent);z-index:20;}
.menu-label:active{transform:scale(0.97);}
.menu-label.active{color:var(--accent);}
.menu-label .label-sub{
  display:block;font-family:'Geist Mono',monospace;font-size:12px;font-weight:500;
  letter-spacing:0.14em;text-transform:uppercase;
  color:var(--text-muted);margin-top:3px;opacity:0.6;
  transition:color 0.3s ease,opacity 0.3s ease;
}
.menu-label.active .label-sub,.menu-label:hover .label-sub{color:var(--accent);opacity:0.7;}
.menu-label .label-hover{
  position:absolute;
  padding:6px 12px;border-radius:8px;
  background:var(--text-primary);color:var(--bg);
  font-family:'Geist Mono',monospace;font-size:9px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  white-space:nowrap;
  opacity:0;pointer-events:none;
  transition:opacity 0.2s ease,transform 0.2s ease;
}
.menu-label .label-hover::after{
  content:'';position:absolute;
  border:4px solid transparent;
}
/* All tooltips appear above the label */
.menu-label .label-hover{
  bottom:100%;left:50%;transform:translateX(-50%) translateY(-4px);margin-bottom:6px;z-index:20;
}
.menu-label .label-hover::after{
  top:100%;left:50%;transform:translateX(-50%);
  border-top-color:var(--text-primary);
}
.menu-label:hover .label-hover{opacity:1;transform:translateX(-50%) translateY(0);}

.menu-label[data-pos="12"]{top:8%;left:50%;transform:translateX(-50%);}
.menu-label[data-pos="3"]{top:50%;right:6%;transform:translateY(-50%);}
.menu-label[data-pos="6"]{bottom:8%;left:50%;transform:translateX(-50%);}
.menu-label[data-pos="9"]{top:50%;left:6%;transform:translateY(-50%);}

/* ═══ THUMBNAILS — raised button style like synth selectors ═══ */
.thumbnail{
  position:absolute;width:var(--thumbnail-size);height:var(--thumbnail-size);
  border-radius:8px;overflow:hidden;z-index:6;
  transition:transform 0.4s ease,opacity 0.4s ease,box-shadow 0.4s ease;cursor:pointer;
  background:var(--bg-raised);
  box-shadow:
    2px 2px 6px rgba(0,0,0,0.1),
    -1px -1px 4px rgba(255,255,255,0.6),
    inset 0 1px 0 rgba(255,255,255,0.5);
  border:1px solid rgba(255,255,255,0.3);
  opacity:0.5;
}
.thumbnail.active-quadrant{
  opacity:1;transform:scale(1.15);
  box-shadow:
    3px 3px 10px rgba(0,0,0,0.12),
    -2px -2px 6px rgba(255,255,255,0.6),
    inset 0 1px 0 rgba(255,255,255,0.5);
  border-color:rgba(139,126,200,0.3);
}
.thumbnail:hover{
  opacity:1;transform:scale(1.35)!important;z-index:15;
  box-shadow:
    4px 4px 16px rgba(0,0,0,0.15),
    -2px -2px 8px rgba(255,255,255,0.7);
}
.thumbnail:active{
  transform:scale(1.25)!important;
  box-shadow:2px 2px 6px rgba(0,0,0,0.1);
}
.thumbnail.focused{
  opacity:1;transform:scale(1.4)!important;z-index:16;
  box-shadow:

    0 0 0 2px var(--accent),
    4px 4px 12px rgba(0,0,0,0.12);
  border-color:var(--accent);
}
.thumbnail-placeholder{
  width:100%;height:100%;display:flex;align-items:center;justify-content:center;
  font-size:12px;font-weight:700;color:rgba(255,255,255,0.9);
  letter-spacing:0.04em;
}

/* Clock thumbnail popover */
.clock-pop-wrap{
  position:absolute;z-index:25;pointer-events:none;
  width:200px;
}
.clock-pop{
  background:#fff;border-radius:12px;
  box-shadow:0 12px 40px rgba(0,0,0,0.12),0 2px 8px rgba(0,0,0,0.06),0 0 0 1px rgba(0,0,0,0.04);
  padding:14px;opacity:0;
  transform:translateY(6px) scale(0.97);
  transition:opacity 0.2s cubic-bezier(0.32,0.72,0,1),transform 0.25s cubic-bezier(0.32,0.72,0,1);
}
.clock-pop-wrap.open{pointer-events:auto;}
.clock-pop-wrap.open .clock-pop{opacity:1;transform:translateY(0) scale(1);}
.clock-pop .cpop-title{
  font-family:'Geist',sans-serif;font-size:13px;font-weight:600;
  color:var(--text-primary);line-height:1.35;margin-bottom:6px;
}
.clock-pop .cpop-desc{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.55);line-height:1.5;margin-bottom:8px;
}
.clock-pop .cpop-tags{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px;}
.clock-pop .cpop-tag{
  padding:2px 6px;border-radius:4px;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:500;
  letter-spacing:0.01em;text-transform:uppercase;
  background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.45);
}
.clock-pop .cpop-link{
  font-family:'Geist Mono',monospace;font-size:12px;
  color:var(--accent);text-decoration:none;
  display:inline-flex;align-items:center;gap:4px;
  transition:opacity 0.15s ease;
}
.clock-pop .cpop-link:hover{opacity:0.7;}
button.cpop-view-note,button.cpop-view-case{background:none;border:none;padding:0;cursor:pointer;}
.clock-pop-scrim{position:absolute;inset:0;z-index:24;display:none;}
.clock-pop-scrim.open{display:block;}

/* Mini Apple Notes icon */
.notes-icon{border-radius:inherit;position:relative;background:#fff !important;}
.ni-yellow{
  position:absolute;top:0;left:0;right:0;height:32%;
  background:linear-gradient(180deg,#FDD44B 0%,#F9C72C 100%);
  border-radius:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;
}
.ni-dots{
  position:absolute;top:30%;left:8%;right:8%;height:2px;
  background:repeating-linear-gradient(90deg,rgba(0,0,0,0.15) 0px,rgba(0,0,0,0.15) 1.5px,transparent 1.5px,transparent 4px);
}
.ni-lines{
  position:absolute;top:44%;left:14%;right:14%;bottom:18%;
  display:flex;flex-direction:column;justify-content:space-evenly;
}
.ni-lines span{
  display:block;height:1px;background:rgba(0,0,0,0.1);border-radius:1px;
}

/* ═══ HAND — metallic style ═══ */
.hand-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:18;pointer-events:none;transform-origin:50% 50%;will-change:transform;}
.hand-svg{position:absolute;top:0;left:0;width:100%;height:100%;}

/* ═══ BOTTOM UI ═══ */
.section-indicator{display:flex;gap:8px;align-items:center;transition:opacity 0.3s ease;}
.indicator-dot{
  width:6px;height:6px;border-radius:50%;
  background:var(--text-muted);cursor:pointer;
  transition:background 0.4s ease,width 0.4s ease,border-radius 0.4s ease;
  box-shadow:inset 1px 1px 2px rgba(0,0,0,0.1);
}
.indicator-dot.active{
  background:var(--accent);width:20px;border-radius:3px;
  box-shadow:none;
}
.bottom-ui{
  position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
  display:none;flex-direction:column;align-items:center;gap:8px;
  z-index:110;
}
.skip-link{
  font-family:'Geist Mono',monospace;font-size:12px;letter-spacing:0.1em;text-transform:uppercase;
  color:var(--accent);cursor:pointer;
  opacity:0.4;display:inline-flex;align-items:center;gap:4px;
  transition:opacity 0.2s ease-out;
}
.skip-link:hover{opacity:0.8;}
.skip-link:active{transform:scale(0.97);opacity:0.6;}
.skip-chevron{animation:skipPulse 2s ease-out infinite;}
@keyframes skipPulse{0%,100%{transform:translateY(0);opacity:1;}50%{transform:translateY(3px);opacity:0.4;}}
.skip-link.hidden{opacity:0;pointer-events:none;}
@media(prefers-reduced-motion:reduce){.skip-chevron{animation:none;}}

.page-header{text-align:center;margin-bottom:4px;transition:opacity 0.3s ease;}
.page-header h1{font-family:'GeistPixel',sans-serif;font-size:28px;font-weight:400;letter-spacing:-0.02em;color:var(--text-primary);}
.page-header p{font-size:12px;color:var(--text-muted);margin-top:4px;letter-spacing:0.04em;}

.active-section-title{text-align:center;margin-top:4px;min-height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity 0.3s ease;}
.active-section-title h2{
  font-family:'Geist',sans-serif;font-size:12px;font-weight:600;
  letter-spacing:0.1em;text-transform:uppercase;color:var(--accent);
  transition:opacity 0.3s ease;
}
.active-section-title .section-desc{font-family:'Geist Mono',monospace;font-size:12px;color:var(--text-muted);margin-top:2px;}

/* ═══ MODAL — raised card with 3D tilt ═══ */
.modal-overlay{position:fixed;inset:0;z-index:300;display:flex;align-items:center;justify-content:center;pointer-events:none;opacity:0;transition:opacity 0.2s ease-out;}
.modal-overlay.open{pointer-events:auto;opacity:1;}
.modal-backdrop{position:absolute;inset:0;background:rgba(58,54,50,0.35);}
.modal-card{
  position:relative;width:min(560px,90vw);max-height:85vh;
  background:#EDEAE6;
  border-radius:16px;
  box-shadow:0 16px 48px rgba(0,0,0,0.12),0 4px 16px rgba(0,0,0,0.06);
  opacity:0;
  isolation:isolate;
  transition:opacity 0.25s ease-out,box-shadow 0.25s ease-out;
}
.modal-card-inner{
  border-radius:16px;overflow:hidden;height:min(85vh,520px);
  display:flex;flex-direction:column;position:relative;
  -webkit-mask-image:-webkit-radial-gradient(white,black);
  mask-image:radial-gradient(white,black);
}
.modal-overlay.open .modal-card{opacity:1;}
/* Close button */
.modal-close{
  position:absolute;top:12px;right:12px;width:32px;height:32px;border-radius:50%;
  background:rgba(0,0,0,0.25);
  border:none;
  backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;
  font-size:13px;color:rgba(255,255,255,0.85);
  opacity:0.45;transition:opacity 0.2s ease-out,background 0.2s ease-out,transform 0.2s ease-out;
}
.modal-card:hover .modal-close{opacity:1;}
.modal-close:hover{background:rgba(0,0,0,0.4);transform:scale(1.05);}
.modal-close:active{transform:scale(0.97);}
/* Carousel */
.modal-carousel{
  position:relative;width:100%;height:320px;overflow:hidden;
  background:var(--bg-inset);flex-shrink:0;
}
.modal-card-inner.image-only .modal-carousel{height:100%;flex:1;}
.modal-card-inner.image-only .modal-body{display:none;}
.carousel-track{display:flex;height:100%;transition:transform 0.28s cubic-bezier(0.25,0.46,0.45,0.94);}
.carousel-slide{min-width:100%;height:100%;}
.carousel-slide-color{
  width:100%;height:100%;
  display:flex;align-items:center;justify-content:center;
  font-size:28px;font-weight:600;color:rgba(255,255,255,0.85);
}
.carousel-slide img,.carousel-slide video{
  width:100%;height:100%;object-fit:cover;
  -webkit-user-drag:none;user-select:none;
}
.carousel-counter{
  position:absolute;top:12px;left:12px;
  background:rgba(58,54,50,0.4);color:rgba(255,255,255,0.8);
  padding:4px 10px;border-radius:12px;font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.04em;backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);
}
.carousel-btn{
  position:absolute;top:50%;transform:translateY(-50%);width:32px;height:32px;border-radius:50%;
  background:rgba(0,0,0,0.25);
  border:none;
  backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;cursor:pointer;
  color:rgba(255,255,255,0.85);
  opacity:0.45;transition:opacity 0.2s ease-out,background 0.2s ease-out,transform 0.2s ease-out;
}
.modal-card:hover .carousel-btn:not(:disabled){opacity:1;}
.carousel-btn:hover:not(:disabled){background:rgba(0,0,0,0.4);transform:translateY(-50%) scale(1.05);}
.carousel-btn:active:not(:disabled){transform:translateY(-50%) scale(0.97);}
.carousel-btn:disabled{opacity:0.2!important;cursor:default;pointer-events:none;}
.carousel-btn.prev{left:12px;}.carousel-btn.next{right:12px;}
/* Modal body */
.modal-body{padding:24px 28px 28px;flex:1;overflow-y:auto;min-height:0;}
/* Bottom fade only — overflow but not scrolled yet */
.modal-body.has-bottom-fade:not(.has-scroll-fade){
  -webkit-mask-image:linear-gradient(to bottom,#000 0%,#000 calc(100% - 32px),rgba(0,0,0,0.85) calc(100% - 20px),rgba(0,0,0,0.4) calc(100% - 10px),transparent 100%);
  mask-image:linear-gradient(to bottom,#000 0%,#000 calc(100% - 32px),rgba(0,0,0,0.85) calc(100% - 20px),rgba(0,0,0,0.4) calc(100% - 10px),transparent 100%);
}
/* Top fade only — scrolled to bottom */
.modal-body.has-scroll-fade:not(.has-bottom-fade){
  -webkit-mask-image:linear-gradient(to bottom,transparent 0%,rgba(0,0,0,0.4) 10px,rgba(0,0,0,0.85) 20px,#000 32px,#000 100%);
  mask-image:linear-gradient(to bottom,transparent 0%,rgba(0,0,0,0.4) 10px,rgba(0,0,0,0.85) 20px,#000 32px,#000 100%);
}
/* Both fades — scrolled but not at bottom */
.modal-body.has-scroll-fade.has-bottom-fade{
  -webkit-mask-image:linear-gradient(to bottom,transparent 0%,rgba(0,0,0,0.4) 10px,rgba(0,0,0,0.85) 20px,#000 32px,#000 calc(100% - 32px),rgba(0,0,0,0.85) calc(100% - 20px),rgba(0,0,0,0.4) calc(100% - 10px),transparent 100%);
  mask-image:linear-gradient(to bottom,transparent 0%,rgba(0,0,0,0.4) 10px,rgba(0,0,0,0.85) 20px,#000 32px,#000 calc(100% - 32px),rgba(0,0,0,0.85) calc(100% - 20px),rgba(0,0,0,0.4) calc(100% - 10px),transparent 100%);
}
.modal-title{font-family:'GeistPixel',sans-serif;font-size:22px;font-weight:400;color:var(--text-primary);letter-spacing:-0.02em;margin-bottom:12px;}
.modal-tags{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px;}
.modal-tag{
  padding:4px 10px;border-radius:8px;font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  background:rgba(0,0,0,0.04);color:var(--text-secondary);
  border:1px solid rgba(0,0,0,0.06);
}
.modal-tag.link{
  cursor:pointer;color:var(--accent);
  background:var(--accent-subtle);
  text-decoration:none;display:inline-flex;align-items:center;gap:4px;
  transition:background 0.15s ease-out;
}
.modal-tag.link:hover{background:rgba(139,126,200,0.15);}
.modal-tag.link:active{transform:scale(0.97);}
.modal-desc{font-size:14px;line-height:1.65;color:var(--text-secondary);}
.modal-desc p{margin-bottom:12px;}
.modal-desc p:last-child{margin-bottom:0;}
.modal-case-study-link{
  position:absolute;bottom:14px;left:50%;transform:translateX(-50%);
  padding:6px 16px;border-radius:10px;
  background:rgba(237,234,230,0.7);color:var(--text-primary);
  font-family:'Geist',sans-serif;font-size:13px;font-weight:500;letter-spacing:0.01em;
  text-decoration:none;white-space:nowrap;
  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
  transition:background 0.15s ease-out;
}
.modal-case-study-link:hover{background:rgba(237,234,230,0.9);}

/* ═══ PUZZLE GRID (Work) ═══ */
.puzzle-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  max-width:520px;margin-left:auto;margin-right:auto;
  gap:12px;
}
.puzzle-card{
  border-radius:12px;position:relative;overflow:hidden;
  cursor:pointer;aspect-ratio:4/3;
  transition:transform 0.2s ease-out;
  box-shadow:var(--shadow-object);
  background:#f0eee9;
  /* Visible thickness — bottom/right edge */
  border-bottom:2px solid rgba(0,0,0,0.1);
  border-right:1px solid rgba(0,0,0,0.06);
  border-top:1px solid rgba(255,255,255,0.15);
  border-left:1px solid rgba(255,255,255,0.1);
}
/* Specular highlight — glass sheen */
.puzzle-card::after{
  content:'';position:absolute;inset:0;border-radius:12px;
  background:radial-gradient(ellipse at 30% 25%,rgba(255,255,255,0.18) 0%,transparent 55%);
  pointer-events:none;z-index:2;
  transition:opacity 0.2s ease-out;
}
.puzzle-card:hover{
  transform:translateY(-2px) scale(1.01);
}
.puzzle-card:hover::after{opacity:0.7;}
.puzzle-card:active{
  transform:scale(0.97);
}
.puzzle-img{
  width:100%;height:100%;
}
.puzzle-extra{display:none;opacity:0;transform:translateY(12px);}
.puzzle-grid.expanded .puzzle-extra{display:block;animation:puzzleReveal 0.3s ease-out forwards;}
.puzzle-grid.expanded .puzzle-extra:nth-child(8){animation-delay:0s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(9){animation-delay:0.04s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(10){animation-delay:0.08s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(11){animation-delay:0.12s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(12){animation-delay:0.16s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(13){animation-delay:0.2s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(14){animation-delay:0.24s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(15){animation-delay:0.28s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(16){animation-delay:0.32s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(17){animation-delay:0.36s;}
.puzzle-grid.expanded .puzzle-extra:nth-child(18){animation-delay:0.4s;}
@keyframes puzzleReveal{
  to{opacity:1;transform:translateY(0);}
}
.puzzle-grid.collapsing .puzzle-extra{display:none;}
.puzzle-show-more{
  display:block;margin:32px auto 0;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:500;
  letter-spacing:0.01em;text-transform:uppercase;
  padding:8px 20px;border-radius:4px;
  background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.45);
  border:none;cursor:pointer;
  transition:background 0.15s ease-out,color 0.15s ease-out;
}
.puzzle-show-more:hover{background:rgba(0,0,0,0.07);color:rgba(0,0,0,0.6);}
.puzzle-show-more:active{transform:scale(0.97);}
.puzzle-show-more.hidden{display:none;}
.puzzle-img img,.puzzle-img video{
  width:100%;height:100%;object-fit:cover;display:block;
}
.puzzle-overlay{
  position:absolute;inset:0;
  display:flex;align-items:flex-end;padding:20px;
  background:linear-gradient(to top,rgba(0,0,0,0.55) 0%,transparent 60%);
  opacity:0;transition:opacity 0.25s ease-out;
  z-index:3;
}
.puzzle-card:hover .puzzle-overlay{opacity:1;}
.puzzle-overlay span{
  font-family:'GeistPixel',sans-serif;font-size:16px;text-align:left;
  color:white;letter-spacing:-0.01em;
  text-shadow:0 1px 4px rgba(0,0,0,0.4);
}

/* ═══ KINDLE MOCKUP ═══ */
.kindle-wrapper{display:flex;justify-content:center;margin-top:40px;max-width:520px;margin-left:auto;margin-right:auto;}
.kindle-device{
  width:100%;position:relative;
  background:#1A1A1A;
  border-radius:16px;
  padding:36px 28px 48px;
  box-shadow:
    0 1px 2px rgba(0,0,0,0.3),
    0 4px 12px rgba(0,0,0,0.15),
    0 20px 60px rgba(0,0,0,0.2),
    inset 0 1px 0 rgba(255,255,255,0.08),
    inset 0 -1px 0 rgba(0,0,0,0.5);
  /* Base gradient */
  background-image:
    linear-gradient(180deg,#262626 0%,#1A1A1A 40%,#151515 100%);
  /* Bezel edge highlights — top/left lighter, bottom/right darker */
  border-top:1px solid rgba(255,255,255,0.06);
  border-left:1px solid rgba(255,255,255,0.04);
  border-bottom:1px solid rgba(0,0,0,0.3);
  border-right:1px solid rgba(0,0,0,0.15);
}
/* Noise texture overlay — matte soft-touch feel */
.kindle-device::before{
  content:'';position:absolute;inset:0;border-radius:16px;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size:128px 128px;
  opacity:0.03;
  mix-blend-mode:overlay;
  pointer-events:none;
  z-index:1;
}
/* Top-light reflection — subtle highlight across top edge */
.kindle-device::after{
  content:'';position:absolute;top:0;left:10%;right:10%;height:50%;border-radius:16px 16px 0 0;
  background:linear-gradient(180deg,rgba(255,255,255,0.04) 0%,transparent 60%);
  pointer-events:none;
  z-index:1;
}
/* Power button — bottom edge, centered */
.kindle-power{
  position:absolute;bottom:14px;left:50%;transform:translateX(-50%);
  width:32px;height:3px;border-radius:2px;
  background:linear-gradient(to bottom,#383838,#252525);
  box-shadow:
    0 1px 2px rgba(0,0,0,0.4),
    inset 0 0.5px 0 rgba(255,255,255,0.08);
  z-index:2;
}
/* Amazon logo at bottom bezel */
.kindle-brand{
  position:absolute;bottom:22px;left:50%;transform:translateX(-50%);
  font-family:'Geist',sans-serif;font-size:12px;
  letter-spacing:0.25em;text-transform:lowercase;
  color:rgba(255,255,255,0.4);font-weight:500;
  text-shadow:0 1px 1px rgba(0,0,0,0.4);
  z-index:2;
}
/* E-ink screen — warm paper white with paper texture */
.kindle-screen{
  width:100%;aspect-ratio:3/4.2;
  background:#EDE8DF;
  border-radius:8px;
  position:relative;overflow:hidden;
  z-index:2;
  /* Recessed screen — sits inside the bezel */
  box-shadow:
    inset 0 2px 6px rgba(0,0,0,0.1),
    inset 0 0 2px rgba(0,0,0,0.06),
    0 0 0 1px rgba(0,0,0,0.15);
}
/* Paper grain texture on e-ink — the real Kindle has visible texture */
.kindle-screen::before{
  content:'';position:absolute;inset:0;border-radius:8px;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size:200px 200px;
  opacity:0.035;
  mix-blend-mode:multiply;
  pointer-events:none;z-index:4;
}
/* Subtle uneven lighting — overhead light on e-ink with tighter specular */
.kindle-screen::after{
  content:'';position:absolute;inset:0;border-radius:8px;
  background:
    radial-gradient(ellipse 40% 35% at 35% 25%,rgba(255,255,255,0.12) 0%,transparent 70%),
    radial-gradient(ellipse at 80% 90%,rgba(0,0,0,0.04) 0%,transparent 50%);
  pointer-events:none;z-index:5;
}
/* E-ink refresh flash */
.kindle-screen.eink-flash{
  animation:einkFlash 0.15s ease-out;
}
@keyframes einkFlash{
  0%{filter:brightness(1);}
  30%{filter:brightness(1.12) contrast(0.95);}
  100%{filter:brightness(1);}
}
/* ═══ VIEW LAYER — stacked views, toggle visibility ═══ */
.kindle-view{
  position:absolute;inset:0;
  transition:opacity 0.3s ease-out, transform 0.3s ease-out;
}
.kindle-view.hidden{
  opacity:0;pointer-events:none;
  transform:translateX(8px);
}

/* ═══ TOP BAR ═══ */
.kindle-topbar{
  display:flex;align-items:center;gap:8px;
  padding:14px 18px 10px;
  border-bottom:1px solid rgba(0,0,0,0.06);
}
.kindle-back{
  width:28px;height:28px;border-radius:6px;
  background:none;border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  color:rgba(0,0,0,0.5);font-size:16px;
  transition:background 0.15s ease-out;
}
.kindle-back:hover{background:rgba(0,0,0,0.06);}
.kindle-topbar-title{
  font-family:'Geist',sans-serif;font-size:13px;font-weight:600;
  color:rgba(0,0,0,0.6);letter-spacing:-0.01em;
}

/* ═══ LIBRARY VIEW ═══ */
.kindle-library{
  padding:0 18px 18px;
  overflow-y:auto;
  height:calc(100% - 53px);
}
.kindle-library::-webkit-scrollbar{width:3px;}
.kindle-library::-webkit-scrollbar-track{background:transparent;}
.kindle-library::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.12);border-radius:3px;}

.kindle-grid{
  columns:3;
  column-gap:14px;
  padding-top:14px;
}
.kindle-grid-book{
  cursor:pointer;
  break-inside:avoid;
  margin-bottom:14px;
  transition:transform 0.2s ease-out, opacity 0.2s ease-out;
}
.kindle-grid-book:hover{transform:scale(1.03);}
.kindle-grid-book:active{transform:scale(0.97);}
.kindle-grid-cover{
  width:100%;
  border-radius:4px;
  position:relative;overflow:hidden;
  box-shadow:1px 2px 6px rgba(0,0,0,0.15);
}
.kindle-grid-cover img{
  width:100%;display:block;border-radius:4px;
}
/* Spine edge */
.kindle-grid-cover::before{
  content:'';position:absolute;left:0;top:0;width:3px;height:100%;
  background:linear-gradient(to right,rgba(0,0,0,0.2),transparent);
  z-index:2;
}
/* Light sheen */
.kindle-grid-cover::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(255,255,255,0.06) 0%,transparent 40%,rgba(0,0,0,0.03) 100%);
  pointer-events:none;z-index:1;
}
/* Hover progress bar at bottom of cover */
.kindle-grid-bar{
  position:absolute;bottom:0;left:0;right:0;height:4px;z-index:3;
  background:rgba(0,0,0,0.12);
  opacity:0;
  transition:opacity 0.2s ease-out;
}
.kindle-grid-bar{display:none;}
.kindle-grid-bar-fill{
  height:100%;border-radius:0 1px 1px 0;
  background:rgba(0,0,0,0.55);
}
.kindle-fav{
  position:absolute;top:6px;right:6px;z-index:4;
  width:22px;height:22px;
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  background:
    radial-gradient(circle, #D8D4CE 0%, #E0DDD8 60%, #E4E0DA 100%);
  box-shadow:
    inset 0 1px 3px rgba(0,0,0,0.1),
    inset 0 1px 1px rgba(0,0,0,0.06),
    0 1px 0 rgba(255,255,255,0.6);
  pointer-events:auto;cursor:pointer;
}
.kindle-fav-inner{
  width:18px;height:18px;
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  background:
    radial-gradient(ellipse at 40% 30%, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 50%),
    linear-gradient(180deg, #F6F3EF 0%, #EDEAE5 40%, #E6E3DE 100%);
  box-shadow:
    0 1px 3px rgba(0,0,0,0.1),
    0 2px 4px rgba(0,0,0,0.05),
    inset 0 1px 0 rgba(255,255,255,0.9),
    inset 0 -1px 1px rgba(0,0,0,0.04);
}
.kindle-fav svg{width:12px;height:12px;display:block;}
.kindle-grid-book{position:relative;}
.kindle-fav-tip{
  position:absolute;top:6px;right:calc(100% + 6px);transform:translateY(4px);
  padding:4px 8px;border-radius:6px;
  background:var(--text-primary);color:var(--bg);
  font-family:'Geist Mono',monospace;font-size:8px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  white-space:nowrap;
  opacity:0;pointer-events:none;
  transition:opacity 0.2s ease-out, transform 0.2s ease-out;
  z-index:10;
}
.kindle-fav-tip::after{
  content:'';position:absolute;right:-4px;top:50%;transform:translateY(-50%);
  border:4px solid transparent;border-left-color:var(--text-primary);
}
.kindle-fav:hover .kindle-fav-tip,
.kindle-fav-tip.show{
  opacity:1;transform:translateY(0);
}

/* ═══ BOOK DETAIL VIEW ═══ */
.kindle-detail{
  padding:0 24px 24px;
  overflow-y:auto;
  height:calc(100% - 53px);
}
.kindle-detail::-webkit-scrollbar{width:3px;}
.kindle-detail::-webkit-scrollbar-track{background:transparent;}
.kindle-detail::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.12);border-radius:3px;}

.kindle-detail-cover{
  width:55%;margin:20px auto 24px;
  border-radius:5px;
  position:relative;overflow:hidden;
  box-shadow:2px 4px 16px rgba(0,0,0,0.2);
}
.kindle-detail-cover img{
  width:100%;display:block;border-radius:5px;
}
/* Spine edge */
.kindle-detail-cover::before{
  content:'';position:absolute;left:0;top:0;width:4px;height:100%;
  background:linear-gradient(to right,rgba(0,0,0,0.2),transparent);
  z-index:2;
}

/* Meta info */
.kindle-detail-meta{
  text-align:center;margin-bottom:20px;
}
.kindle-detail-subtitle{
  font-family:'Geist',sans-serif;font-size:14px;font-weight:500;
  color:rgba(0,0,0,0.6);margin-bottom:4px;
}
.kindle-detail-by{
  font-family:'Geist Mono',monospace;font-size:12px;
  color:rgba(0,0,0,0.35);letter-spacing:0.04em;
}
.kindle-detail-fav{
  display:inline-flex;align-items:center;gap:0;
  margin-top:8px;
  font-family:'Geist Mono',monospace;font-size:9px;font-weight:600;
  letter-spacing:0.06em;text-transform:uppercase;
  color:var(--accent);
}
.kindle-detail-fav.top{color:#C0392B;}
.kindle-detail-fav.hidden{display:none;}

/* Progress bar */
.kindle-detail-progress-wrap{
  margin-bottom:20px;
}
.kindle-detail-progress-label{
  display:flex;justify-content:space-between;align-items:center;
  margin-bottom:6px;
}
.kindle-detail-progress-text{
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  color:rgba(0,0,0,0.4);letter-spacing:0.04em;
}
.kindle-detail-progress-pct{
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:700;
  color:rgba(0,0,0,0.55);
}
.kindle-detail-progress-bar{
  height:4px;background:rgba(0,0,0,0.08);border-radius:2px;overflow:hidden;
}
.kindle-detail-progress-fill{
  height:100%;border-radius:2px;
  background:rgba(0,0,0,0.3);
  transition:width 0.5s cubic-bezier(0.32,0.72,0,1);
}

/* Notes toggle button */
.kindle-detail-notes-btn{
  display:flex;align-items:center;justify-content:center;gap:6px;
  width:100%;padding:10px;border-radius:8px;
  background:rgba(0,0,0,0.04);border:1px solid rgba(0,0,0,0.06);
  cursor:pointer;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.06em;text-transform:uppercase;
  color:rgba(0,0,0,0.4);
  transition:background 0.2s ease-out, color 0.2s ease-out, border-color 0.2s ease-out;
}
.kindle-detail-notes-btn:hover{
  background:rgba(0,0,0,0.06);color:rgba(0,0,0,0.55);
}
.kindle-detail-notes-btn.active{
  background:rgba(107,92,168,0.12);color:rgba(107,92,168,0.75);
  border-color:rgba(107,92,168,0.25);
}
.kindle-detail-notes-btn svg{flex-shrink:0;}

/* ═══ HIGHLIGHTS DRAWER ═══ */
.kindle-drawer-overlay{
  position:absolute;inset:0;z-index:10;
  background:rgba(0,0,0,0);
  pointer-events:none;
  transition:background 0.3s ease-out;
}
.kindle-drawer-overlay.open{
  background:rgba(0,0,0,0.15);
  pointer-events:auto;
}
.kindle-drawer{
  position:absolute;bottom:0;left:0;right:0;z-index:11;
  background:#EDE8DF;
  border-radius:14px 14px 0 0;
  box-shadow:0 -4px 20px rgba(0,0,0,0.1);
  transform:translateY(100%);
  transition:transform 0.35s cubic-bezier(0.32,0.72,0,1);
  max-height:70%;
  display:flex;flex-direction:column;
}
.kindle-drawer.open{
  transform:translateY(0);
}
.kindle-drawer-handle{
  width:32px;height:4px;border-radius:2px;
  background:rgba(0,0,0,0.15);
  margin:10px auto 0;flex-shrink:0;
}
.kindle-drawer-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 18px 10px;
  border-bottom:1px solid rgba(0,0,0,0.06);
  flex-shrink:0;
}
.kindle-drawer-title{
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.1em;text-transform:uppercase;
  color:rgba(0,0,0,0.4);
  display:flex;align-items:center;gap:6px;
}
.kindle-drawer-title::before{
  content:'';width:10px;height:10px;border-radius:2px;
  background:linear-gradient(135deg,#B8ADE0,#8B7EC8);
  flex-shrink:0;
}
.kindle-drawer-close{
  width:24px;height:24px;border-radius:6px;
  background:none;border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  color:rgba(0,0,0,0.35);font-size:14px;
  transition:background 0.15s ease-out;
}
.kindle-drawer-close:hover{background:rgba(0,0,0,0.06);}
.kindle-drawer-content{
  padding:14px 18px 20px;
  overflow-y:auto;flex:1;
}
.kindle-drawer-content::-webkit-scrollbar{width:3px;}
.kindle-drawer-content::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.1);border-radius:3px;}
.kindle-highlight{
  margin-bottom:14px;padding-bottom:14px;
  border-bottom:1px solid rgba(0,0,0,0.05);
}
.kindle-highlight:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none;}
.kindle-highlight-bar{
  font-family:'Geist',sans-serif;font-size:12px;line-height:1.55;
  color:var(--text-primary);
  background:linear-gradient(180deg,rgba(139,126,200,0.2) 0%,rgba(139,126,200,0.08) 100%);
  border-left:2px solid #8B7EC8;
  padding:8px 10px;border-radius:0 4px 4px 0;
  margin-bottom:6px;
}
.kindle-highlight-note{
  font-family:'Geist',sans-serif;font-size:12px;line-height:1.6;
  color:var(--text-secondary);
}
.kindle-highlight-note mark{
  background:rgba(139,126,200,0.15);
  color:var(--text-primary);
  border-radius:2px;
  padding:1px 2px;
}
.kindle-no-notes{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.3);font-style:italic;
  text-align:center;padding:12px 0;
}

/* ═══ ABOUT SECTION ═══ */
.about-bio{margin-bottom:32px;text-align:left;max-width:520px;margin-left:auto;margin-right:auto;}
.about-bio p{font-size:15px;line-height:1.75;color:var(--text-secondary);margin-bottom:16px;}
.about-bio p:first-child{font-size:16px;color:var(--text-primary);line-height:1.7;}
.about-bio em{font-style:italic;color:var(--text-primary);font-weight:500;}
.about-bio strong{font-weight:600;color:var(--text-primary);}
.about-bio-sub{color:var(--text-secondary);}
.about-drop-trigger{
  color:var(--text-primary);cursor:pointer;position:relative;
  text-decoration:underline;text-underline-offset:2px;text-decoration-color:rgba(0,0,0,0.15);
  transition:text-decoration-color 0.2s ease-out;
}
.about-drop-trigger:hover{text-decoration-color:rgba(0,0,0,0.4);}
.about-drop-wrap{
  position:absolute;left:0;top:calc(100% + 6px);z-index:50;
  min-width:160px;border-radius:10px;
  opacity:0;transform:translateY(-4px);pointer-events:none;
  transition:opacity 0.15s ease-out,transform 0.15s ease-out;
}
.about-drop-wrap.open{opacity:1;transform:translateY(0);pointer-events:auto;}
.about-dropdown{
  padding:8px 0;border-radius:10px;
  max-height:200px;overflow-y:auto;overscroll-behavior:none;-webkit-overflow-scrolling:auto;
  background:var(--text-primary);
  box-shadow:0 4px 16px rgba(0,0,0,0.15);
}
.about-drop-fade{
  position:absolute;bottom:0;left:0;right:0;height:28px;pointer-events:none;
  background:linear-gradient(transparent,var(--text-primary));border-radius:0 0 10px 10px;
  transition:opacity 0.15s ease-out;
}
.about-drop-fade.hidden{opacity:0;}
.about-dropdown-item{
  display:block;padding:6px 14px;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:500;
  color:var(--bg);white-space:nowrap;text-decoration:none;
  transition:opacity 0.15s ease-out;
}
a.about-dropdown-item:hover{opacity:0.7;}
.about-dropdown-item:not(a){opacity:0.85;}
.about-bio-link{color:var(--text-primary);text-decoration:underline;text-underline-offset:2px;text-decoration-color:rgba(0,0,0,0.15);transition:text-decoration-color 0.2s ease-out;}
.about-bio-link:hover{text-decoration-color:rgba(0,0,0,0.4);}
.about-ctas{margin-bottom:32px;max-width:520px;margin-left:auto;margin-right:auto;display:flex;flex-direction:column;align-items:flex-start;gap:16px;}
.about-cta-primary-wrap{display:inline-block;}

/* Primary CTA — keyboard key */
.about-cta-primary{
  display:block;position:relative;padding:16px 40px;border-radius:12px;
  border:none;cursor:pointer;text-decoration:none;
  font-family:'Geist',sans-serif;font-size:14px;font-weight:600;
  letter-spacing:0.03em;color:white;
  background:linear-gradient(180deg,#7E6EBE 0%,#6B5CA8 30%,#6050A0 70%,#5848A0 100%);
  box-shadow:
    0 4px 0 0 #483C88,
    0 8px 14px rgba(72,60,136,0.25);
  text-shadow:0 1px 2px rgba(0,0,0,0.2);
  transform:translateY(0);
  transition:transform 0.08s ease-out,box-shadow 0.08s ease-out;
}
.about-cta-primary:hover{
  background:linear-gradient(180deg,#8A7AC6 0%,#7868B4 30%,#6C5CA8 70%,#6050A0 100%);
  box-shadow:
    0 5px 0 0 #483C88,
    0 10px 16px rgba(72,60,136,0.3);
  transform:translateY(-1px);
}
.about-cta-primary:active{
  background:linear-gradient(180deg,#6050A0 0%,#5848A0 40%,#4E4090 100%);
  box-shadow:
    0 1px 0 0 #483C88,
    0 2px 6px rgba(72,60,136,0.2);
  transform:translateY(3px);
  text-shadow:0 0 1px rgba(0,0,0,0.3);
}

.cta-arrow{display:inline-block;vertical-align:middle;margin-left:6px;margin-top:-1px;}

/* Secondary — 3D circle icon buttons */
.about-cta-strip{display:inline-flex;gap:8px;align-items:center;}
.about-cta{
  width:32px;height:32px;padding:0;border-radius:8px;
  text-decoration:none;color:var(--text-muted);border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;position:relative;
  background:
    radial-gradient(ellipse at 35% 25%,rgba(255,255,255,0.7) 0%,rgba(255,255,255,0) 60%),
    linear-gradient(180deg,#F4F1ED 0%,#E2DFDA 100%);
  box-shadow:
    0 2px 0 0 #C4C0BA,
    0 4px 6px rgba(0,0,0,0.06);
  transform:translateY(0);
  transition:transform 0.1s ease-out,box-shadow 0.1s ease-out,color 0.1s ease-out;
}
.about-cta:hover{
  color:var(--accent);
  background:
    radial-gradient(ellipse at 35% 25%,rgba(255,255,255,0.8) 0%,rgba(255,255,255,0) 60%),
    linear-gradient(180deg,#F8F5F1 0%,#E8E5E0 100%);
  box-shadow:
    0 3px 0 0 #C4C0BA,
    0 5px 8px rgba(0,0,0,0.08);
  transform:translateY(-1px);
}
.about-cta:active{
  color:var(--accent);
  background:
    radial-gradient(ellipse at 50% 60%,rgba(255,255,255,0.3) 0%,rgba(255,255,255,0) 50%),
    linear-gradient(180deg,#D5D2CC 0%,#E0DDD8 100%);
  box-shadow:
    0 0 0 0 #C4C0BA,
    inset 0 2px 4px rgba(0,0,0,0.1);
  transform:translateY(2px);
}
.about-cta svg{width:13px;height:13px;flex-shrink:0;}

/* Details */
.about-details{
  border-top:1px solid rgba(0,0,0,0.06);padding-top:24px;text-align:left;
  max-width:520px;margin-left:auto;margin-right:auto;display:flex;flex-direction:column;gap:20px;
}
.about-detail{display:flex;align-items:center;gap:16px;font-size:13px;}
.about-detail-label{
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.06em;text-transform:uppercase;
  color:var(--text-muted);min-width:80px;flex-shrink:0;
}
.about-detail-value{color:var(--text-secondary);display:flex;align-items:center;gap:8px;}

/* LED indicator */
.led{
  width:7px;height:7px;border-radius:50%;flex-shrink:0;
  background:radial-gradient(circle at 35% 35%,#6BE08A,#34C759);
  box-shadow:0 0 3px rgba(52,199,89,0.5),0 0 7px rgba(52,199,89,0.2);
  animation:ledPulse 2.5s ease-out infinite;
}
@keyframes ledPulse{
  0%,100%{box-shadow:0 0 3px rgba(52,199,89,0.5),0 0 7px rgba(52,199,89,0.2);}
  50%{box-shadow:0 0 5px rgba(52,199,89,0.7),0 0 12px rgba(52,199,89,0.3);}
}

/* Toggle switch */
.toggle{
  width:30px;height:17px;border-radius:8px;position:relative;cursor:pointer;flex-shrink:0;
  background:linear-gradient(180deg,#DAD7D2 0%,#E2DFDA 100%);
  box-shadow:inset 0 1px 3px rgba(0,0,0,0.12),0 1px 0 rgba(255,255,255,0.5);
  transition:background 0.2s ease-out,box-shadow 0.2s ease-out;
  outline:none;
}
.toggle:focus-visible{box-shadow:inset 0 1px 3px rgba(0,0,0,0.12),0 0 0 2px var(--accent);}
.toggle.on{
  background:linear-gradient(180deg,#6050A0 0%,#6B5CA8 100%);
  box-shadow:inset 0 1px 3px rgba(0,0,0,0.15),0 1px 0 rgba(255,255,255,0.5);
}
.toggle-knob{
  position:absolute;top:2px;left:2px;width:13px;height:13px;border-radius:50%;
  background:
    radial-gradient(ellipse at 35% 30%,rgba(255,255,255,0.9) 0%,rgba(255,255,255,0) 60%),
    linear-gradient(180deg,#F8F6F3 0%,#E8E5E0 100%);
  box-shadow:0 1px 3px rgba(0,0,0,0.15),0 1px 1px rgba(0,0,0,0.08);
  transition:transform 0.2s cubic-bezier(0.34,1.56,0.64,1);
}
.toggle.on .toggle-knob{transform:translateX(13px);}

/* Stack cards */
.stack-cards{display:flex;align-items:center;padding:0 0 0 4px;}
.stack-card{
  padding:8px 12px;border-radius:12px;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;color:var(--text-secondary);
  white-space:nowrap;
  background:linear-gradient(180deg,#F0EDE8 0%,#E8E5E0 100%);
  border:1px solid rgba(255,255,255,0.6);
  box-shadow:0 1px 3px rgba(0,0,0,0.06),0 2px 0 0 #D4D0CA;
  position:relative;margin-left:-18px;cursor:default;
  transition:transform 0.25s ease-out,margin 0.25s ease-out;
}
.stack-card:first-child{margin-left:0;z-index:4;transform:rotate(-2.5deg);}
.stack-card:nth-child(2){z-index:3;transform:rotate(2deg);}
.stack-card:nth-child(3){z-index:2;transform:rotate(-1.5deg);}
.stack-card:nth-child(4){z-index:1;transform:rotate(2.5deg);}
.stack-cards:hover .stack-card,
.stack-cards.touched .stack-card{margin-left:4px;transform:rotate(0deg);}
.stack-cards:hover .stack-card:first-child,
.stack-cards.touched .stack-card:first-child{margin-left:0;}

/* Reduced motion */
@media(prefers-reduced-motion:reduce){
  .led{animation:none;}
  .toggle-knob{transition:none;}
  .stack-card{transition:none;}
}

/* ═══ BROWSE CONTENT ═══ */
.browse-content{
  position:relative;top:0;left:0;width:100%;
  min-height:100vh;padding:80px 0 60px;
  pointer-events:auto;
  background:var(--bg);
}
.browse-inner{max-width:680px;margin:0 auto;}

/* ═══ SITE FOOTER ═══ */
.site-footer{
  display:flex;align-items:center;justify-content:center;gap:8px;
  padding:40px 24px 48px;
  border-top:1px solid rgba(0,0,0,0.06);
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:500;
  letter-spacing:0.1em;text-transform:uppercase;color:var(--text-muted);
}
.footer-sep{opacity:0.4;}
.footer-link{color:var(--text-muted);text-decoration:none;}
.footer-link:hover{text-decoration:underline;color:var(--text-secondary);}

.browse-section{padding:64px 24px;border-bottom:1px solid rgba(0,0,0,0.04);text-align:left;}
.browse-section:last-child{border-bottom:none;}
.browse-section-label{
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:700;
  letter-spacing:0.14em;text-transform:uppercase;color:var(--accent);margin-bottom:8px;
  max-width:520px;margin-left:auto;margin-right:auto;
}
.browse-section h2{font-family:'GeistPixel',sans-serif;font-size:32px;font-weight:400;letter-spacing:-0.02em;margin-bottom:8px;line-height:1.2;color:var(--text-primary);max-width:520px;margin-left:auto;margin-right:auto;}
.browse-section .subtitle{font-size:15px;color:var(--text-secondary);margin-bottom:40px;line-height:1.5;max-width:520px;margin-left:auto;margin-right:auto;}
.timeline-item{padding:24px 0;border-top:1px solid rgba(0,0,0,0.04);display:flex;gap:16px;}
.timeline-year{font-family:'Geist Mono',monospace;font-size:12px;font-weight:700;color:var(--accent);min-width:80px;padding-top:2px;flex-shrink:0;letter-spacing:0.02em;}
.timeline-text{font-size:14px;line-height:1.65;color:var(--text-secondary);}
.timeline-text strong{color:var(--text-primary);font-weight:500;}

/* ═══ APPLE NOTES (window) ═══ */
.anotes-window{
  max-width:520px;margin:0 auto;height:580px;
  background:#FEFDFB;
  border-radius:16px;
  box-shadow:0 12px 40px rgba(0,0,0,0.1),0 2px 8px rgba(0,0,0,0.06),inset 0 1px 0 rgba(255,255,255,0.8);
  overflow:hidden;border:1px solid rgba(0,0,0,0.06);text-align:left;flex-shrink:0;
}
.anotes-slider{display:flex;width:200%;height:100%;transition:transform 0.38s cubic-bezier(0.32,0.72,0,1);}
.anotes-slider.show-reader{transform:translateX(-50%);}
.anotes-list-view,.anotes-reader{width:50%;flex-shrink:0;display:flex;flex-direction:column;min-height:0;min-width:0;}
.anotes-titlebar{
  display:flex;align-items:center;gap:12px;padding:12px 16px;min-height:44px;
  background:linear-gradient(to bottom,#F7F6F2,#F0EFEA);
  border-bottom:1px solid rgba(0,0,0,0.06);flex-shrink:0;
}
.anotes-titlebar-label{
  font-family:'Geist',sans-serif;font-size:12px;font-weight:600;
  color:rgba(0,0,0,0.4);letter-spacing:0.02em;
}
.anotes-titlebar-spacer{flex:1;}
.anotes-sort{
  display:flex;align-items:center;gap:3px;
  cursor:pointer;background:none;border:none;padding:3px 8px;border-radius:8px;
  font-family:'Geist',sans-serif;font-size:12px;font-weight:500;
  color:rgba(0,0,0,0.3);transition:color 0.15s ease,background 0.15s ease;
}
.anotes-sort:hover{background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.5);}
.anotes-sort:active{background:rgba(0,0,0,0.06);}
.anotes-sort svg{transition:transform 0.25s cubic-bezier(0.32,0.72,0,1);}
.anotes-sort.asc svg{transform:rotate(180deg);}
.anotes-search-wrap{position:relative;flex-shrink:0;width:100%;}
.anotes-search{
  margin:12px 16px 8px;padding:8px 12px;
  background:rgba(0,0,0,0.03);border-radius:8px;
  display:flex;align-items:center;gap:8px;
  font-family:'Geist',sans-serif;font-size:12px;
  transition:background 0.15s ease;flex-shrink:0;
}
.anotes-search:hover,.anotes-search:focus-within{background:rgba(0,0,0,0.05);}
.anotes-search-input{flex:1;border:none;outline:none;background:none;font-family:'Geist',sans-serif;font-size:12px;color:#3A3632;}
.anotes-search-input::placeholder{color:rgba(0,0,0,0.25);}
.anotes-search-clear{background:none;border:none;cursor:pointer;color:rgba(0,0,0,0.2);font-size:12px;width:16px;height:16px;border-radius:50%;display:none;align-items:center;justify-content:center;padding:0;line-height:1;}
.anotes-search-clear.visible{display:flex;}
.anotes-search-clear:hover{color:rgba(0,0,0,0.5);background:rgba(0,0,0,0.06);}
.anotes-search-clear:active{transform:scale(0.97);}
.search-dropdown{
  position:absolute;top:100%;left:14px;right:14px;
  background:#FEFDFB;border-radius:12px;
  box-shadow:0 8px 30px rgba(0,0,0,0.1),0 2px 6px rgba(0,0,0,0.04);
  border:1px solid rgba(0,0,0,0.06);
  padding:10px 12px;z-index:10;
  opacity:0;transform:translateY(-4px);pointer-events:none;
  transition:opacity 0.18s ease-out,transform 0.18s ease-out;
}
.search-dropdown.open{opacity:1;transform:translateY(2px);pointer-events:auto;}
.search-dropdown-label{
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.06em;text-transform:uppercase;
  color:rgba(0,0,0,0.2);margin-bottom:8px;
}
.search-dropdown-tags{display:flex;gap:8px;flex-wrap:wrap;}
.tag-capsule{
  padding:4px 10px;border-radius:8px;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.35);
  border:1px solid rgba(0,0,0,0.06);
  cursor:pointer;transition:background 0.15s ease,color 0.15s ease,border-color 0.15s ease;
}
.tag-capsule:hover{background:rgba(0,0,0,0.06);color:rgba(0,0,0,0.5);}
.tag-capsule:active{transform:scale(0.97);}
.tag-capsule.active{background:rgba(139,126,200,0.08);color:#8B7EC8;border-color:rgba(139,126,200,0.2);}
.search-chip{
  display:inline-flex;align-items:center;gap:3px;
  padding:2px 6px 2px 8px;border-radius:8px;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  background:rgba(139,126,200,0.1);color:#8B7EC8;
  flex-shrink:0;animation:chipIn 0.2s ease;
}
@keyframes chipIn{from{opacity:0;transform:scale(0.92);}to{opacity:1;transform:scale(1);}}
.search-chip button{
  background:none;border:none;cursor:pointer;color:#8B7EC8;
  font-size:12px;padding:0;line-height:1;opacity:0.4;transition:opacity 0.15s ease;
}
.search-chip button:hover{opacity:1;}
.anotes-list{padding:0;flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;}
.anotes-list::-webkit-scrollbar{width:0;}
.anotes-note{
  padding:12px 16px;border-bottom:1px solid rgba(0,0,0,0.04);
  cursor:pointer;transition:background 0.12s ease;border-left:3px solid transparent;
}
.anotes-note:last-child{border-bottom:none;}
.anotes-note:first-child{border-top:1px solid rgba(0,0,0,0.04);}
.anotes-note:hover{background:rgba(0,0,0,0.015);}
.anotes-note:active{background:rgba(0,0,0,0.035);}
.anotes-note.active{background:rgba(242,169,59,0.06);border-left-color:#F2A93B;padding-left:13px;}
.anotes-note-title{
  font-family:'Geist',sans-serif;font-size:13px;font-weight:600;
  color:#1A1A1A;margin-bottom:3px;
}
.anotes-note-row{display:flex;align-items:baseline;gap:8px;}
.anotes-note-date{
  font-family:'Geist',sans-serif;font-size:12px;font-weight:500;
  color:rgba(0,0,0,0.35);flex-shrink:0;
}
.anotes-note-preview{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.3);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.anotes-no-results{padding:32px 16px;text-align:center;font-size:12px;color:rgba(0,0,0,0.2);display:none;}
.anotes-no-results.visible{display:block;}
.anotes-list-footer{
  padding:12px 16px;border-top:1px solid rgba(0,0,0,0.04);min-height:44px;
  font-size:12px;color:rgba(0,0,0,0.25);flex-shrink:0;text-align:left;
  display:flex;align-items:center;
}
/* Reader */
.reader-toolbar{display:flex;align-items:center;padding:12px 16px;min-height:44px;background:linear-gradient(to bottom,#F7F6F2,#F0EFEA);border-bottom:1px solid rgba(0,0,0,0.06);flex-shrink:0;}
.reader-back{display:flex;align-items:center;gap:4px;cursor:pointer;color:#F2A93B;font-size:12px;font-weight:500;transition:opacity 0.15s ease;background:none;border:none;padding:0;}
.reader-back:hover{opacity:0.7;}
.reader-back:active{opacity:0.5;}
.reader-scroll{flex:1;overflow-y:auto;padding:28px 24px 32px;-webkit-overflow-scrolling:touch;}
.reader-scroll::-webkit-scrollbar{width:4px;}
.reader-scroll::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.06);border-radius:2px;}
.reader-date{font-size:12px;font-weight:500;color:rgba(0,0,0,0.3);margin-bottom:8px;}
.reader-tags{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap;}
.reader-tag{
  padding:4px 10px;border-radius:8px;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.35);
  border:1px solid rgba(0,0,0,0.06);
}
.reader-title{font-size:22px;font-weight:700;color:#1A1A1A;line-height:1.3;margin-bottom:24px;letter-spacing:-0.02em;}
.reader-body{font-size:14px;color:rgba(0,0,0,0.55);line-height:1.75;}
.reader-body p{margin-bottom:16px;}
.reader-footer{padding:12px 16px;border-top:1px solid rgba(0,0,0,0.04);display:flex;align-items:center;justify-content:flex-start;flex-shrink:0;min-height:44px;}
.reader-footer-action{display:flex;align-items:center;gap:4px;font-size:12px;font-weight:500;color:rgba(0,0,0,0.3);cursor:pointer;background:none;border:none;padding:6px 12px;border-radius:8px;transition:background 0.15s ease,color 0.15s ease;}
.reader-footer-action:hover{background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.5);}
.reader-footer-action:active{transform:scale(0.97);}
/* Rich content */
.term{color:#8B7EC8;cursor:pointer;border-bottom:1px dashed rgba(139,126,200,0.4);transition:border-color 0.15s ease;position:relative;}
.term:hover{border-color:#8B7EC8;}
.term:active{opacity:0.7;}
.popover{
  position:fixed;background:#fff;border-radius:12px;padding:12px 16px;
  box-shadow:0 4px 20px rgba(0,0,0,0.12),0 1px 4px rgba(0,0,0,0.06);
  border:1px solid rgba(0,0,0,0.06);
  width:220px;pointer-events:none;opacity:0;
  transition:opacity 0.2s ease-out,transform 0.2s ease-out;
  z-index:350;transform:scale(0.92);
}
.popover.visible{opacity:1;transform:scale(1);pointer-events:auto;}
.popover-title{font-size:12px;font-weight:700;color:#1A1A1A;margin-bottom:4px;letter-spacing:0.02em;text-transform:uppercase;}
.popover-desc{font-size:12px;color:rgba(0,0,0,0.5);line-height:1.5;}
.note-link{color:#8B7EC8;text-decoration:none;font-weight:500;border-bottom:1px solid rgba(139,126,200,0.25);transition:border-color 0.15s ease;}
.note-link:hover{border-color:#8B7EC8;}
.note-link:active{opacity:0.7;}
.note-link::after{content:'';display:inline-block;width:10px;height:10px;margin-left:3px;vertical-align:middle;opacity:0.5;background:currentColor;-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M4 12L12 4'/%3E%3Cpath d='M5 4h7v7'/%3E%3C/svg%3E") no-repeat center/contain;mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M4 12L12 4'/%3E%3Cpath d='M5 4h7v7'/%3E%3C/svg%3E") no-repeat center/contain;}
.note-img{width:100%;border-radius:12px;margin:8px 0 4px;box-shadow:0 2px 12px rgba(0,0,0,0.06);overflow:hidden;background:rgba(0,0,0,0.03);}
.note-img img,.note-img canvas{width:100%;display:block;border-radius:12px;}
.note-img-caption{font-size:12px;color:rgba(0,0,0,0.3);margin:6px 0 12px;font-style:italic;}
.note-demo{width:100%;border-radius:12px;margin:12px 0;background:linear-gradient(145deg,#F5F3EF,#EDEAE6);border:1px solid rgba(0,0,0,0.05);overflow:hidden;position:relative;}
.note-demo-label{position:absolute;top:8px;right:10px;font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;letter-spacing:0.06em;text-transform:uppercase;color:rgba(0,0,0,0.2);pointer-events:none;}
.note-demo canvas{display:block;width:100%;aspect-ratio:460/140;cursor:grab;}
.note-demo canvas:active{cursor:grabbing;}
.note-demo-hint{text-align:center;padding:6px;font-size:12px;color:rgba(0,0,0,0.2);border-top:1px solid rgba(0,0,0,0.04);}
.note-code{background:rgba(0,0,0,0.03);border:1px solid rgba(0,0,0,0.06);border-radius:10px;padding:12px 14px;padding-right:60px;margin:4px 0 0;font-family:'Geist Mono',monospace;font-size:11.5px;line-height:1.7;color:rgba(0,0,0,0.55);overflow-x:auto;word-break:break-all;}
.note-code .kw{color:#7B6BA5;}.note-code .fn{color:#5A7BAF;}
.note-code .str{color:#6B8F5E;}.note-code .num{color:#B87A4A;}
.note-code .cm{color:rgba(0,0,0,0.25);}
.note-code-copy{position:absolute;top:50%;right:8px;transform:translateY(-50%);background:rgba(0,0,0,0.04);border:1px solid rgba(0,0,0,0.06);border-radius:6px;padding:4px 8px;font-family:'Geist Mono',monospace;font-size:10px;color:rgba(0,0,0,0.3);cursor:pointer;transition:opacity 0.15s ease-out;}
.note-code-copy:hover{opacity:0.7;}
.note-code-copy:active{transform:translateY(-50%) scale(0.97);}
.note-callout{background:rgba(139,126,200,0.06);border-left:3px solid #8B7EC8;border-radius:0 8px 8px 0;padding:12px 16px;margin:12px 0;font-size:13px;color:rgba(0,0,0,0.5);line-height:1.6;}
.note-embed{width:100%;border-radius:12px;margin:12px 0 4px;overflow:hidden;border:1px solid rgba(0,0,0,0.06);}
.note-embed-placeholder{width:100%;height:280px;background:linear-gradient(145deg,#F5F3EF,#EDEAE6);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;cursor:pointer;transition:opacity 0.2s ease-out;}
.note-embed-placeholder:hover{opacity:0.85;}
.note-embed-label{font-family:'Geist Mono',monospace;font-size:12px;font-weight:600;letter-spacing:0.06em;text-transform:uppercase;color:rgba(0,0,0,0.2);}
.note-embed-btn{font-family:'Geist',sans-serif;font-size:13px;font-weight:500;color:#fff;background:#8B7EC8;border:none;border-radius:20px;padding:8px 20px;cursor:pointer;transition:transform 0.15s ease-out,opacity 0.15s ease-out;}
.note-embed-btn:hover{opacity:0.9;}
.note-embed-btn:active{transform:scale(0.97);}
.note-embed iframe{width:100%;height:480px;border:none;display:block;}
.note-embed-caption{font-size:12px;color:rgba(0,0,0,0.3);margin:6px 0 12px;font-style:italic;}

/* ═══ MYMIND ═══ */
.mymind-app{
  max-width:520px;width:100%;margin:0 auto;
  background:#fff;
  border-radius:16px;
  box-shadow:0 8px 32px rgba(0,0,0,0.08),0 2px 8px rgba(0,0,0,0.04);
  border:1px solid rgba(0,0,0,0.04);
  overflow:visible;
  text-align:left;
  position:relative;
  min-height:0;
}
.mymind-header{padding:24px 20px 12px;}
.mymind-search{
  width:100%;border:none;outline:none;background:none;
  font-family:'Geist',sans-serif;font-size:24px;font-weight:300;
  font-style:italic;color:var(--text-primary);letter-spacing:-0.01em;
}
.mymind-search::placeholder{
  color:rgba(0,0,0,0.2);font-style:italic;
}
.mymind-filters{
  display:flex;gap:8px;padding:0 20px 16px;flex-wrap:wrap;
}
.mymind-pill{
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:500;
  letter-spacing:0.01em;text-transform:uppercase;
  padding:2px 6px;border-radius:4px;
  background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.45);
  cursor:pointer;transition:background 0.15s ease,color 0.15s ease;
}
.mymind-pill.active{background:var(--accent);color:white;}
.mymind-pill:hover:not(.active){background:rgba(0,0,0,0.07);}
.mymind-pill:active{transform:scale(0.97);}
.mymind-grid-scroll{
  max-height:540px;overflow-y:auto;
}
.mymind-grid-scroll::-webkit-scrollbar{width:3px;}
.mymind-grid-scroll::-webkit-scrollbar-track{background:transparent;}
.mymind-grid-scroll::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.1);border-radius:3px;}
.mymind-grid{
  column-count:3;column-gap:8px;
  padding:0 12px 12px;
}
.mm-card{
  break-inside:avoid;margin-bottom:8px;
  border-radius:12px;overflow:hidden;cursor:pointer;
  position:relative;
  transition:transform 0.2s ease,box-shadow 0.2s ease;
}
.mm-card:hover{
  transform:translateY(-1px);
  box-shadow:0 4px 16px rgba(0,0,0,0.08);
}
.mm-card:active{
  transform:scale(0.97);
  transition:transform 0.1s ease;
}
.mm-card.active{
  box-shadow:
    0 0 0 1.5px var(--accent),
    0 4px 16px rgba(139,126,200,0.12);
  transform:translateY(-1px);
}
.mm-img-card{
  background:#fff;
  border:1px solid rgba(0,0,0,0.04);
  padding:8px;
}
.mm-thumb{width:100%;border-radius:8px;background-size:cover;overflow:hidden;}
.mm-thumb img{width:100%;height:100%;object-fit:cover;display:block;border-radius:8px;}
.mm-caption{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.62);padding:8px 4px 4px;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.mm-note-card{
  background:#FFFEF8;padding:12px;
  border:1px solid rgba(0,0,0,0.04);
}
.mm-note-card p{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.62);line-height:1.5;font-style:italic;
}
.mm-author{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.48);margin-top:8px;display:block;
}
.mm-link-card{
  background:#fff;padding:12px;
  border:1px solid rgba(0,0,0,0.05);
}
.mm-link-icon{
  font-size:12px;margin-bottom:4px;
  width:24px;height:24px;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.03);border-radius:8px;
}
.mm-link-title{
  font-family:'Geist',sans-serif;font-size:12px;font-weight:600;
  color:#1A1A1A;margin-bottom:4px;line-height:1.3;
}
.mm-link-desc{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.55);line-height:1.4;
}
/* Floating popover */
.mm-popover-wrap{
  position:absolute;z-index:50;
  pointer-events:none;width:52%;min-width:200px;
}
.mm-popover{
  background:#fff;border-radius:12px;
  box-shadow:
    0 12px 40px rgba(0,0,0,0.12),
    0 2px 8px rgba(0,0,0,0.06),
    0 0 0 1px rgba(0,0,0,0.04);
  padding:16px;
  opacity:0;
  transform:translateY(var(--pop-dir, 8px)) scale(0.97);
  transition:
    opacity 0.2s cubic-bezier(0.32,0.72,0,1),
    transform 0.25s cubic-bezier(0.32,0.72,0,1);
}
.mm-popover-wrap.open{pointer-events:auto;}
.mm-popover-wrap.open .mm-popover{
  opacity:1;transform:translateY(0) scale(1);
}
.pop-header{
  display:flex;justify-content:space-between;align-items:flex-start;
  margin-bottom:12px;
}
.pop-title{
  font-family:'Geist',sans-serif;font-size:13px;font-weight:600;
  color:var(--text-primary);line-height:1.35;flex:1;
}
.pop-close{
  width:24px;height:24px;border-radius:50%;
  background:rgba(0,0,0,0.06);border:none;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;font-size:12px;color:rgba(0,0,0,0.48);
  transition:background 0.15s ease,color 0.15s ease;
  flex-shrink:0;margin-left:8px;
}
.pop-close:hover{background:rgba(0,0,0,0.1);color:rgba(0,0,0,0.62);}
.pop-close:active{transform:scale(0.97);}
.pop-source{
  font-family:'Geist Mono',monospace;font-size:12px;
  color:var(--accent);text-decoration:none;
  display:inline-flex;align-items:center;gap:4px;
  margin-bottom:12px;transition:opacity 0.15s ease;
}
.pop-source:hover{opacity:0.7;}
.pop-source:active{opacity:0.5;}
.pop-tldr{
  font-family:'Geist',sans-serif;font-size:12px;
  color:rgba(0,0,0,0.62);line-height:1.6;margin-bottom:12px;
}
.pop-tags{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:12px;}
.pop-tag{
  padding:3px 6px;border-radius:4px;
  font-family:'Geist Mono',monospace;font-size:12px;font-weight:500;
  letter-spacing:0.03em;text-transform:uppercase;
  background:rgba(0,0,0,0.04);color:rgba(0,0,0,0.45);
  border:none;
}
.pop-footer{
  display:flex;align-items:center;justify-content:space-between;
  margin-top:12px;padding-top:10px;
  border-top:1px solid rgba(0,0,0,0.05);
}
.pop-date{
  font-family:'Geist Mono',monospace;font-size:12px;
  color:rgba(0,0,0,0.48);letter-spacing:0.02em;
}
.pop-copy{
  display:flex;align-items:center;gap:4px;
  font-family:'Geist',sans-serif;font-size:12px;font-weight:500;
  color:rgba(0,0,0,0.4);background:none;border:1px solid rgba(0,0,0,0.08);
  border-radius:6px;padding:4px 8px;cursor:pointer;
  transition:color 0.15s ease-out, border-color 0.15s ease-out, background 0.15s ease-out;
}
.pop-copy:hover{color:rgba(0,0,0,0.6);border-color:rgba(0,0,0,0.15);background:rgba(0,0,0,0.03);}
.pop-copy:active{transform:scale(0.97);}
.pop-copy.copied{color:var(--accent);border-color:rgba(139,126,200,0.3);}
/* Scrim */
.mm-scrim{
  position:fixed;inset:0;z-index:40;display:none;
}
.mm-scrim.open{display:block;}

.book-item{padding:12px 0;border-top:1px solid rgba(0,0,0,0.04);}
.book-item h4{font-size:14px;font-weight:500;color:var(--text-primary);margin-bottom:2px;}
.book-item p{font-size:12px;color:var(--text-secondary);}

.connect-box{
  background:rgba(255,255,255,0.3);
  border-radius:16px;padding:32px;
  box-shadow:none;
  border:1px solid rgba(0,0,0,0.06);
}
.connect-box p{font-size:14px;line-height:1.6;color:var(--text-secondary);margin-bottom:24px;}
.form-field{margin-bottom:16px;}
.form-field label{display:block;font-family:'Geist Mono',monospace;font-size:12px;font-weight:700;letter-spacing:0.08em;text-transform:uppercase;color:var(--text-muted);margin-bottom:6px;}
.form-field input,.form-field textarea{
  width:100%;padding:12px 16px;border-radius:12px;
  border:none;font-family:'Geist',sans-serif;font-size:14px;
  background:rgba(0,0,0,0.04);color:var(--text-primary);
  border:1px solid rgba(0,0,0,0.08);
  box-shadow:none;
  transition:box-shadow 0.2s ease;outline:none;resize:vertical;
}
.form-field input:focus,.form-field textarea:focus{
  box-shadow:none;border-color:var(--accent);
}
.form-field textarea{min-height:100px;}
.send-btn{
  padding:12px 24px;border:none;border-radius:12px;
  background:var(--accent);
  color:white;font-family:'Geist',sans-serif;
  font-size:12px;font-weight:700;letter-spacing:0.06em;text-transform:uppercase;
  cursor:pointer;transition:transform 0.2s ease-out,box-shadow 0.2s ease-out;
  box-shadow:none;
}
.send-btn:hover{transform:translateY(-1px);box-shadow:0 2px 8px rgba(139,126,200,0.3);}
.social-links{display:flex;gap:16px;margin-top:24px;}
.social-links a{font-size:12px;color:var(--accent);text-decoration:none;font-weight:600;letter-spacing:0.02em;transition:opacity 0.2s ease;}
.social-links a:hover{opacity:0.7;}
.social-links a:active{opacity:0.5;}

/* ═══ MINI CLOCK — recessed well + raised face ═══ */
.mini-clock-bar{
  position:fixed;top:14px;left:50%;
  transform:translateX(-50%) scale(1);
  z-index:200;
  width:min(680px, calc(100% - 48px));
  display:flex;align-items:center;justify-content:flex-start;
  opacity:1;pointer-events:auto;
  transform-origin:center top;
  transition:opacity 0.25s ease-out,transform 0.25s ease-out;
}
.mini-clock-bar.hidden{opacity:0;pointer-events:none;transform:translateX(-50%) scale(0.92);}
.mini-clock{
  width:48px;height:48px;border-radius:22%;
  background:radial-gradient(circle, #D8D4CE 0%, #E0DDD8 60%, #E4E0DA 100%);
  box-shadow:
    inset 0 2px 6px rgba(0,0,0,0.1),
    inset 0 1px 2px rgba(0,0,0,0.06),
    0 1px 0 rgba(255,255,255,0.6);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;position:relative;
}
/* Raised inner face */
.mini-clock-inner{
  width:36px;height:36px;border-radius:18%;
  background:
    radial-gradient(ellipse at 40% 30%, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 50%),
    linear-gradient(180deg, #F6F3EF 0%, #EDEAE5 40%, #E6E3DE 100%);
  box-shadow:
    0 2px 4px rgba(0,0,0,0.1),
    0 4px 8px rgba(0,0,0,0.06),
    0 1px 0 rgba(255,255,255,0.4),
    inset 0 1px 0 rgba(255,255,255,0.9),
    inset 0 -1px 2px rgba(0,0,0,0.04);
  position:relative;
  transition:transform 0.2s ease, box-shadow 0.2s ease;
}
.mini-clock-inner svg{width:100%;height:100%;}
/* Hover — lifts */
.mini-clock:hover .mini-clock-inner{
  transform:scale(1.06);
  box-shadow:
    0 3px 6px rgba(0,0,0,0.12),
    0 5px 10px rgba(0,0,0,0.06),
    0 1px 0 rgba(255,255,255,0.4),
    inset 0 1px 0 rgba(255,255,255,0.95),
    inset 0 -1px 2px rgba(0,0,0,0.04);
}
/* Active — presses */
.mini-clock:active .mini-clock-inner{
  transform:scale(0.96);
  box-shadow:
    0 1px 2px rgba(0,0,0,0.1),
    0 2px 4px rgba(0,0,0,0.05),
    inset 0 1px 0 rgba(255,255,255,0.7),
    inset 0 -1px 2px rgba(0,0,0,0.04);
}
/* Tooltip — appears right */
.mini-clock-tooltip{
  position:absolute;left:56px;top:50%;
  transform:translateY(-50%) translateX(-4px);
  padding:6px 12px;border-radius:8px;
  background:var(--text-primary);color:var(--bg);
  font-family:'Geist Mono',monospace;font-size:9px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  white-space:nowrap;
  opacity:0;pointer-events:none;
  transition:opacity 0.2s ease, transform 0.2s ease;
}
.mini-clock-tooltip::after{
  content:'';position:absolute;left:-4px;top:50%;
  transform:translateY(-50%);
  border:4px solid transparent;
  border-right-color:var(--text-primary);
}
.mini-clock:hover .mini-clock-tooltip{
  opacity:1;transform:translateY(-50%) translateX(0);
}

/* ═══ UNIVERSAL PRESS FEEDBACK ═══ */
.mymind-pill:active,
.kindle-grid-book:active,
.indicator-dot:active,
.anotes-note:active,
.mm-card:active,
.send-btn:active{
  transform:scale(0.97);
}

/* ═══ REDUCED MOTION ═══ */
@media(prefers-reduced-motion:reduce){
  *,*::before,*::after{
    animation-duration:0.01ms!important;
    animation-iteration-count:1!important;
    transition-duration:0.01ms!important;
  }
  .hand-container{transition:transform 0s!important;}
  .carousel-track{transition:transform 0s!important;}
  .modal-card{transition:transform 0s,opacity 0s,box-shadow 0s!important;}
  .mm-popover{transition:opacity 0s,transform 0s!important;}
  .clock-wrapper.settle{animation:none!important;}
  .kindle-screen.eink-flash{animation:none!important;}
  .puzzle-card:hover{transform:none;}
  .puzzle-card:active{transform:none;}
}

/* ═══ ROTARY SOUND KNOB ═══ */
.sound-knob-wrap{
  position:fixed;top:14px;right:calc(50% - min(340px, 50vw - 24px));z-index:999;
  width:48px;height:48px;
  border-radius:50%;
  /* Recessed well the knob sits in */
  background:
    radial-gradient(circle, #D8D4CE 0%, #E0DDD8 60%, #E4E0DA 100%);
  box-shadow:
    inset 0 2px 6px rgba(0,0,0,0.1),
    inset 0 1px 2px rgba(0,0,0,0.06),
    0 1px 0 rgba(255,255,255,0.6);
  display:flex;align-items:center;justify-content:center;
}
.sound-knob{
  width:36px;height:36px;
  border-radius:50%;
  cursor:pointer;
  position:relative;
  background:
    radial-gradient(ellipse at 40% 30%, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 50%),
    linear-gradient(180deg, #F6F3EF 0%, #EDEAE5 40%, #E6E3DE 100%);
  box-shadow:
    0 2px 4px rgba(0,0,0,0.1),
    0 4px 8px rgba(0,0,0,0.06),
    0 1px 0 rgba(255,255,255,0.4),
    inset 0 1px 0 rgba(255,255,255,0.9),
    inset 0 -1px 2px rgba(0,0,0,0.04);
  transition:transform 0.4s cubic-bezier(0.34,1.56,0.64,1);
  transform:rotate(0deg);
}
.sound-knob:hover{
  box-shadow:
    0 3px 6px rgba(0,0,0,0.12),
    0 5px 10px rgba(0,0,0,0.06),
    0 1px 0 rgba(255,255,255,0.4),
    inset 0 1px 0 rgba(255,255,255,0.95),
    inset 0 -1px 2px rgba(0,0,0,0.04);
}
.sound-knob:active{
  box-shadow:
    0 1px 2px rgba(0,0,0,0.1),
    0 2px 4px rgba(0,0,0,0.05),
    inset 0 1px 0 rgba(255,255,255,0.7),
    inset 0 -1px 2px rgba(0,0,0,0.04);
}
.sound-knob.off{
  transform:rotate(180deg);
}
/* Indicator dot */
.knob-dot{
  position:absolute;
  top:5px;left:50%;
  width:6px;height:6px;
  margin-left:-3px;
  border-radius:50%;
  background:radial-gradient(circle at 35% 35%, #9B8DD6, #6B5CA8);
  box-shadow:
    0 0 4px rgba(107,92,168,0.6),
    0 0 8px rgba(107,92,168,0.3),
    inset 0 1px 1px rgba(255,255,255,0.4);
  transition:opacity 0.3s ease, box-shadow 0.3s ease;
}
.sound-knob.off .knob-dot{
  background:radial-gradient(circle at 35% 35%, #C8C4BE, #B0ACA6);
  box-shadow:
    inset 0 1px 2px rgba(0,0,0,0.1);
  opacity:0.5;
}
/* Tooltip */
.knob-tooltip{
  position:absolute;right:56px;top:50%;transform:translateY(-50%);
  padding:6px 12px;border-radius:8px;
  background:var(--text-primary);color:var(--bg);
  font-family:'Geist Mono',monospace;font-size:9px;font-weight:600;
  letter-spacing:0.04em;text-transform:uppercase;
  white-space:nowrap;
  opacity:0;pointer-events:none;
  transition:opacity 0.2s ease, transform 0.2s ease;
  transform:translateY(-50%) translateX(4px);
}
.knob-tooltip::after{
  content:'';position:absolute;right:-4px;top:50%;transform:translateY(-50%);
  border:4px solid transparent;border-left-color:var(--text-primary);
}
.sound-knob-wrap:hover .knob-tooltip{
  opacity:1;transform:translateY(-50%) translateX(0);
}

/* ═══ RESPONSIVE ═══ */
/* ═══ MOBILE (≤480px) ═══ */
@media(max-width:480px){
  :root{--clock-size:88vw;--clock-height:105vw;--thumbnail-size:26px;}

  /* Clock face — portrait ratio with softer corners */
  .clock-face{border-radius:18%;}
  .clock-face::before{border-radius:15%;}
  .clock-face::after{border-radius:18%;}

  /* Labels — smaller, 12 & 6 pulled inside the thumbnail orbit */
  .menu-label{font-size:11px;padding:5px 8px;}
  .menu-label[data-pos="12"]{top:16%;}
  .menu-label[data-pos="6"]{bottom:16%;}
  .page-header h1{font-size:22px;}
  .page-header p{font-size:11px;}

  /* Thumbnails */
  .thumbnail{border-radius:6px;}

  /* Sound knob — move to bottom-right, bigger hit area */
  .sound-knob-wrap{
    top:auto;bottom:20px;right:16px;
    width:52px;height:52px;
  }
  .sound-knob{width:40px;height:40px;}
  .knob-dot{width:7px;height:7px;margin-left:-3.5px;top:6px;}
  .knob-tooltip{
    right:auto;left:50%;top:auto;bottom:60px;
    transform:translateX(-50%);
  }
  .knob-tooltip::after{
    right:auto;left:50%;top:auto;bottom:-4px;
    transform:translateX(-50%) rotate(90deg);
    border:4px solid transparent;border-top-color:var(--text-primary);
  }
  .sound-knob-wrap:hover .knob-tooltip,
  .sound-knob-wrap:active .knob-tooltip{
    transform:translateX(-50%) translateY(0);
  }

  /* Modal — full width bottom sheet style */
  .modal-overlay{align-items:flex-end;justify-content:stretch;}
  .modal-card{
    position:fixed;bottom:0;left:0;right:0;
    width:100%;max-height:90dvh;
    border-radius:20px 20px 0 0;
    transform:translateY(100%);
    transition:transform 0.35s cubic-bezier(0.32,0.72,0,1), opacity 0.25s ease-out;
  }
  .modal-overlay.open .modal-card{
    transform:translateY(0);
  }
  .modal-card-inner{
    height:auto;max-height:90dvh;
    border-radius:20px 20px 0 0;
    padding-bottom:env(safe-area-inset-bottom, 0px);
  }
  .modal-carousel{height:220px;}
  .modal-card-inner.image-only .modal-carousel{height:100%;}
  .modal-card-inner.image-only .modal-body{display:none;}
  .carousel-btn{width:30px;height:30px;font-size:14px;}
  .modal-body{padding:20px 20px 32px;}
  .modal-title{font-size:18px;}
  .modal-close{top:10px;right:10px;width:28px;height:28px;font-size:12px;opacity:1;}

  /* Browse content — reduce top space on mobile */
  .browse-content{padding-top:52px;}
  .browse-section{padding:36px 20px;}
  .browse-section h2{font-size:24px;}

  /* Puzzle grid — 2 col */
  .puzzle-grid{
    grid-template-columns:1fr 1fr;
    grid-auto-rows:140px;
    gap:10px;
  }

  /* Kindle — full width + 2-col grid, scale height to viewport */
  .kindle-wrapper{max-width:100%;}
  .kindle-grid{columns:2;column-gap:10px;}
  .kindle-library{height:min(calc(100% - 53px),55dvh);}
  .kindle-detail{
    height:calc(100% - 53px);overflow:hidden;
    display:flex;flex-direction:column;padding:0 20px 12px;
  }
  .kindle-detail-cover{width:35%;margin:10px auto 10px;flex-shrink:1;min-height:0;}
  .kindle-detail-meta{margin-bottom:8px;}
  .kindle-detail-subtitle{font-size:12px;}
  .kindle-detail-progress-wrap{margin-bottom:10px;}
  .kindle-detail-notes-btn{flex-shrink:0;}

  /* Apple Notes — full width, scale height to viewport */
  .anotes-window{border-radius:12px;height:min(520px,61dvh);}
  .reader-title{font-size:20px;}
  .reader-scroll{padding:24px 20px 28px;}
  .popover{width:180px;}

  /* Mymind — 2 columns, scale grid height to viewport */
  .mymind-app{border-radius:12px;overflow:hidden;}
  .mm-popover{max-height:60dvh;overflow-y:auto;}
  .mymind-grid{column-count:2;}
  .mymind-grid-scroll{max-height:min(540px,63dvh);}
  .mymind-search{font-size:20px;}

  /* About — stack cards tighter on mobile */
  .stack-card{padding:6px 8px;margin-left:-22px;}
  .stack-card:first-child{margin-left:0;}
  .about-cta-row{flex-direction:column;}
  .about-cta{text-align:center;}

  /* Mini clock bar — move to bottom-left, aligned with sound knob */
  .mini-clock-bar{
    top:auto;bottom:20px;left:16px;right:auto;
    transform:scale(1);transform-origin:bottom left;
    width:auto;padding:0;
  }
  .mini-clock-bar.hidden{transform:scale(0.92);}

  /* Section indicator dots — bigger touch targets */
  .indicator-dot{width:10px;height:10px;padding:6px;}

  /* Skip link */
  .skip-link{font-size:10px;}

  /* Scroll hint */
  .scroll-hint span{font-size:9px;}
}

/* ═══ TABLET (481–768px) ═══ */
@media(min-width:481px) and (max-width:768px){
  :root{--clock-size:65vw;--thumbnail-size:28px;}
  .modal-card{width:min(560px,95vw);}
  .sound-knob-wrap{top:auto;bottom:20px;right:20px;}
  .knob-tooltip{
    right:auto;left:50%;top:auto;bottom:60px;
    transform:translateX(-50%);
  }
  .knob-tooltip::after{
    right:auto;left:50%;top:auto;bottom:-4px;
    transform:translateX(-50%) rotate(90deg);
    border:4px solid transparent;border-top-color:var(--text-primary);
  }
  .sound-knob-wrap:hover .knob-tooltip{
    transform:translateX(-50%) translateY(0);
  }
}

/* ═══ DESKTOP ═══ */
@media(min-width:769px){:root{--clock-size:520px;--thumbnail-size:32px;}}
@media(min-width:1200px){:root{--clock-size:560px;--thumbnail-size:36px;}.menu-label{font-size:14px;}}
